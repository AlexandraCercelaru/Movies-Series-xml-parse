<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>SBC</title>
    <meta charset="UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
</head>
<body style="background-color:LightBlue;">
<h1 align="center" style="color: #2F4F4F">Cinemagia</h1>
<div class="container">
    <div class="row">
        <div class="col-3">
            <p></p>
            <span class="m-3" >Caută filmele după titlu:</span>
            <div class="input-group m-3">
                <input id="inputByTitle" type="text" class="form-control" placeholder="Titlul filmului"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getByTitle()">Caută</button>
                </div>
            </div>
            <span class="m-3">Filtrează după an:</span>
            <div class="input-group m-3">
                <input id="begYear" type="text" class="form-control" placeholder="După an"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <input id="endYear" type="text" class="form-control" placeholder="Înainte de an"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getByYear()">Caută</button>
                </div>
            </div>
            <span class="m-3">Caută filmele de familie:</span>
            <div class="input-group m-3">
                <input id="inputByTitleAndFamilyYes" type="text" class="form-control" placeholder="Titlul filmului"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getByTitleAndFamilyYes()">Caută
                    </button>
                </div>
            </div>
            <span class="m-3">Caută platforma:</span>
            <div class="input-group m-3">
                <input id="inputPlatformByTitle" type="text" class="form-control" placeholder="Titlul filmului"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getPlatformByTitle()">Caută</button>
                </div>
            </div>
            <span class="m-3">Caută nota:</span>
            <div class="input-group m-3">
                <input id="inputScoreByTitle" type="text" class="form-control" placeholder="Titlul filmului"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getScoreByTitle()">Caută</button>
                </div>
            </div>
            <span class="m-3">Caută popularitatea:</span>
            <div class="input-group m-3">
                <input id="inputPopularByTitle" type="text" class="form-control" placeholder="Titlul filmului"
                       aria-label="Titlul filmului" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" style="color: Black; background: LightGrey;" type="button" onclick="getPopularByTitle()">Caută</button>
                </div>
            </div>
        </div>
        <div class="col-7 d-flex flex-wrap justify-content-center">
            <div th:if="${film}" class="card m-3" style="width: 18rem; height: 18rem;">
                <div class="card-body">
                    <h5 class="card-title"><span th:text="${film?.titlu}"/></h5>
                    <h6 class="card-subtitle mb-2 text-muted"><span th:text="${film?.gen}"/></h6>
                    <h6 class="card-subtitle mb-2 text-muted"><span th:text="${film?.an}"/></h6>
                    Premiu: <span th:text="${film?.premiu}"></span><br>
                    Actor principal: <span th:text="${film?.actorPrincipal}"></span><br>
                    Platforma: <span th:text="${film?.platforma}"></span><br>
                    Familie: <span th:text="${film?.familie}"></span><br>
                    Popular: <span th:text="${film?.popular}"></span><br>
                    Nota: <span th:text="${film?.nota}"></span><br>
                </div>
            </div>
        </div>
        <div class="col-2" >
            <img th:src="@{/image.png}" class="img-rounded" alt="logo" width="300" height="300">
        </div>
    </div>
</div>
</body>
<script>
    function getByTitle() {
        let inputByTitle = document.getElementById("inputByTitle").value;
        if (inputByTitle) {
            window.location.href = `http://localhost:8080/cinemagia/${inputByTitle}`;
        }
    }

    function getByYear() {
        let begYear = document.getElementById("begYear").value;
        let endYear = document.getElementById("endYear").value;
        window.location.href = `http://localhost:8080/cinemagia/by-year?beg=${begYear}&end=${endYear}`;
    }

    function getByTitleAndFamilyYes() {
        let inputByTitleAndFamilyYes = document.getElementById("inputByTitleAndFamilyYes").value;
        if (inputByTitleAndFamilyYes) {
            window.location.href = `http://localhost:8080/cinemagia/${inputByTitleAndFamilyYes}/family/yes`;
        }
    }

    function getPlatformByTitle() {
        let inputPlatformByTitle = document.getElementById("inputPlatformByTitle").value;
        if (inputPlatformByTitle) {
            window.location.href = `http://localhost:8080/cinemagia/${inputPlatformByTitle}/platform`;
        }
    }

    function getScoreByTitle() {
        let inputScoreByTitle = document.getElementById("inputScoreByTitle").value;
        if (inputScoreByTitle) {
            window.location.href = `http://localhost:8080/cinemagia/${inputScoreByTitle}/score`;
        }
    }

    function getPopularByTitle() {
        let inputPopularByTitle = document.getElementById("inputPopularByTitle").value;
        if (inputPopularByTitle) {
            window.location.href = `http://localhost:8080/cinemagia/${inputPopularByTitle}/popular`;
        }
    }
</script>
</html>
